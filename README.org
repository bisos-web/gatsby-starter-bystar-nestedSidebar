#+TITLE: ğŸŒ³ Gatsby Starter: ByStar Nested Sidebar
#+AUTHOR: ByStar Team
#+DATE: January 24, 2026
#+DESCRIPTION: A professional, feature-rich Gatsby starter for ByStar and hierarchical websites
#+OPTIONS: toc:t H:3

A professional, feature-rich Gatsby starter designed for *ByStar and hierarchical websites*. Features responsive navigation, flexible layouts, accessibility support, and privacy-respecting searchâ€”all built with modern technologies.

Built with Gatsby 5, React 18, Tailwind CSS v3, Lunr.js search, and comprehensive accessibility in mind.

* ğŸš€ Quick Start

** Prerequisites
   - Node.js 18+
   - npm or yarn

** Installation

   #+BEGIN_SRC bash
   # Clone the repository
   git clone https://github.com/bisos-web/gatsby-starter-bystar-nestedSidebar.git
   cd gatsby-starter-bystar-nestedSidebar

   # Install dependencies
   npm install

   # Start development server
   npm run develop
   #+END_SRC

   Your site will be running at =http://localhost:8000=

* ğŸ“¸ Homepage Screenshot

  [[./misc/homePage.png]]

  /The ByStar Nested Sidebar starter home page with full navigation sidebar exposed, showing the hierarchical menu structure, core features grid, and quick start section./

* âœ¨ Key Features

** ğŸ¨ Layout & Navigation
   - *4-Part Layout*: Header, flexible sidebar, main content area, and footer with independent visibility control
   - *Hierarchical Nested Sidebar*: Up to 5 levels deep with automatic expansion based on current page location
   - *Smart Path Matching*: Auto-highlights active pages and parent paths in navigation
   - *Sibling Tabs*: Horizontal tab navigation for pages without sidebars, includes parent navigation breadcrumbs
   - *Visual Sitemap*: Complete site hierarchy visualization
   - *ğŸ“± Fully Responsive Design*: Mobile-first approach using Tailwind CSS v3 with proper breakpoints (md: 768px, lg: 1024px)
   - *ğŸ” Mobile Hamburger Menu*: Animated hamburger menu on mobile screens with full-screen sidebar overlay
   - *Mobile Sidebar Overlay*: Touch-friendly sidebar that overlays on mobile when menu is open

** ğŸ” Search & Discovery
   - *Client-Side Full-Text Search*: Powered by Lunr.js for instant, privacy-respecting search
   - *Search Results Page*: Dedicated ~/explore/search~ page with integrated SearchBox component
   - *Fast Indexing*: Automatically indexes all pages from menu hierarchy

** ğŸï¸ Embedded Content
   - *Flexible Content Embedding*: Embed external websites and services via iframes
   - *Multiple Aspect Ratios*: Support for 16:9, 4:3, 1:1, and auto aspect ratios
   - *Security Controls*: Configurable sandbox restrictions for iframe security
   - *Error Handling*: User-friendly error messages with fallback links
   - *Responsive Embedding*: Embedded content scales perfectly on all devices

** â™¿ Accessibility & Standards
   - *Accessibility-Focused*: Built with semantic HTML, ARIA labels, and keyboard navigation support
   - *Keyboard Navigation*: Interactive components designed for keyboard access
   - *Screen Reader Ready*: Proper semantic HTML and ARIA attributes for assistive technologies
   - *Accessible Typography*: Readable line-heights (1.6) and comfortable spacing
   - *Color Contrast*: Dark navy navigation (#001a4d) with sufficient contrast ratios
   - *Mobile Accessible*: Touch-friendly controls with proper spacing
   - *Audit Recommended*: Before production use, conduct accessibility audits to ensure compliance with WCAG 2.1 standards for your specific content and use case

** ğŸ¯ Content Organization
   - *Flexible Menu Structure*: Centralized =menuData.js= for site hierarchy
   - *Layout Control Props*: =showHeader=, =showSidebar=, =showFooter= for layout variations
   - *Multi-Level Navigation*: Supports deeply nested page structures
   - *Automatic Menu Building*: Easy to extend with new sections and subsections
   - *Responsive Typography*: Adjusted margins and spacing for optimal readability on all screen sizes

** ğŸš€ Developer Experience
   - *React 18.2*: Modern React with functional components and hooks
   - *TypeScript Ready*: Easily convert to TypeScript if needed
   - *Tailwind CSS v3*: Modern utility-first CSS framework for rapid UI development with responsive utilities
   - *Responsive Design*: Mobile-first approach with flexible layouts using Tailwind breakpoints
   - *Hot Module Reloading*: Instant feedback during development
   - *PostCSS Pipeline*: Optimized CSS compilation with Tailwind CSS and autoprefixer

** ğŸ“± Features by Section

   *Explore Section* (~/explore/~):
   - Accessibility guides and WCAG documentation
   - Visual sitemap of entire site
   - Client-side search functionality
   - Help page for user guidance
   - Contact form and more

   *About Section* (~/about/~):
   - Example of nested page hierarchy
   - Demonstrates sidebar behavior with child pages
   - Layout variation examples

   *Layout Examples*:
   - Pages with/without sidebars
   - Pages with/without headers and footers
   - Content-only layouts for maximum space
   - Responsive layouts for all screen sizes

* ğŸ“ Project Structure

  #+BEGIN_EXAMPLE
  gatsby-starter-nestedSidebar/
  â”œâ”€â”€ src/
  â”‚   â”œâ”€â”€ components/
  â”‚   â”‚   â”œâ”€â”€ Layout.js              # Master layout wrapper with responsive mobile sidebar
  â”‚   â”‚   â”œâ”€â”€ Header.js              # Top navigation header (responsive)
  â”‚   â”‚   â”œâ”€â”€ Sidebar.js             # Hierarchical sidebar navigation
  â”‚   â”‚   â”œâ”€â”€ MenuItem.js            # Recursive menu item component
  â”‚   â”‚   â”œâ”€â”€ SiblingTabs.js         # Horizontal tabs for page siblings
  â”‚   â”‚   â”œâ”€â”€ HamburgerMenu.js       # Animated mobile menu toggle
  â”‚   â”‚   â”œâ”€â”€ MobileOverlay.js       # Mobile sidebar backdrop overlay
  â”‚   â”‚   â”œâ”€â”€ SearchBox.js           # Lunr.js search interface
  â”‚   â”‚   â”œâ”€â”€ SitemapComponent.js    # Visual site hierarchy
  â”‚   â”‚   â”œâ”€â”€ Footer.js              # Footer component (responsive)
  â”‚   â”‚   â””â”€â”€ seo.js                 # SEO component
  â”‚   â”œâ”€â”€ pages/
  â”‚   â”‚   â”œâ”€â”€ index.js               # Home page (responsive)
  â”‚   â”‚   â”œâ”€â”€ about/                 # About section (nested example)
  â”‚   â”‚   â”œâ”€â”€ explore/               # Explore section
  â”‚   â”‚   â”‚   â”œâ”€â”€ accessibility.js   # WCAG guidelines & info
  â”‚   â”‚   â”‚   â”œâ”€â”€ search.js          # Search page
  â”‚   â”‚   â”‚   â”œâ”€â”€ sitemap.js         # Visual sitemap
  â”‚   â”‚   â”‚   â”œâ”€â”€ embedded-services.js # Embedding guide
  â”‚   â”‚   â”‚   â””â”€â”€ help.js            # Help/FAQ page
  â”‚   â”‚   â”œâ”€â”€ contact.js             # Contact form
  â”‚   â”‚   â”œâ”€â”€ developers/            # Developer guides
  â”‚   â”‚   â””â”€â”€ 404.js                 # Not found page
  â”‚   â”œâ”€â”€ data/
  â”‚   â”‚   â””â”€â”€ menuData.js            # Centralized menu structure
  â”‚   â”œâ”€â”€ utils/
  â”‚   â”‚   â””â”€â”€ searchIndex.js         # Lunr.js search utilities
  â”‚   â”œâ”€â”€ styles/
  â”‚   â”‚   â”œâ”€â”€ global.css             # Global typography & spacing
  â”‚   â”‚   â”œâ”€â”€ tailwind.css           # Tailwind CSS directives
  â”‚   â”‚   â””â”€â”€ index.module.css       # Component-specific styles
  â”‚   â””â”€â”€ images/                    # Image assets
  â”œâ”€â”€ gatsby-config.js               # Gatsby configuration
  â”œâ”€â”€ gatsby-browser.js              # Browser APIs
  â”œâ”€â”€ gatsby-ssr.js                  # Server-side rendering
  â”œâ”€â”€ tailwind.config.js             # Tailwind CSS configuration
  â”œâ”€â”€ postcss.config.js              # PostCSS configuration
  â”œâ”€â”€ package.json
  â””â”€â”€ README.md
  #+END_EXAMPLE

* ğŸ“œ Evolution History

  This starter has evolved significantly through iterative improvements. For detailed information about:
  - Content and design refinements
  - Technical architecture decisions
  - Tailwind CSS v4 â†’ v3 migration rationale
  - Mobile responsiveness fixes
  - All improvements and additions made during development

  Please see [[./misc/ai-updates.md][=./misc/ai-updates.md=]] for the complete evolution history.

* ğŸ› ï¸ For Developers

  This starter is *self-documenting*. Rather than maintaining all developer documentation in this README, comprehensive guides and interactive examples are built directly into the website.

  Visit the *For Developers* section of the site to explore:

  - *Creating Pages* - Step-by-step guide for adding and configuring new pages, with code templates and best practices
  - *Layout Examples* - Explore different layout configurations (full-width, app-like, content-only) with working examples
  - *Embedded Services* - Comprehensive guide to embedding external content with the EmbeddedContent component

  This approach keeps documentation synchronized with actual implementation and provides interactive examples you can explore and learn from directly within the site.

* ğŸ¨ Tailwind CSS Implementation Guide

** Styling with Tailwind CSS v3

   This starter uses *Tailwind CSS v3* for all styling. All inline styles have been removed and replaced with utility-first CSS classes.

*** Key Tailwind Files
    - *=src/styles/tailwind.css=*: Tailwind directives for styling
    - *=tailwind.config.js=*: Custom theme configuration with ByStar colors
    - *=postcss.config.js=*: PostCSS pipeline with tailwindcss and autoprefixer plugins

*** Custom Color Palette

    #+BEGIN_SRC javascript
    // tailwind.config.js
    module.exports = {
      theme: {
        extend: {
          colors: {
            bystar: {
              navy: "#001a4d",
              "light-mint": "#E1EBDD",
            },
            primary: "#001a4d",
            secondary: "#E1EBDD",
          },
          spacing: {
            xs: "8px",
            sm: "12px",
            md: "16px",
            lg: "20px",
            xl: "30px",
            xxl: "50px",
          },
        },
      },
    }
    #+END_SRC

*** Common Tailwind Patterns Used

    *Forms & Inputs:*
    #+BEGIN_SRC jsx
    <label className="block mb-2 font-semibold text-gray-800">Email</label>
    <input className="w-full px-3 py-2 text-base border border-gray-300 rounded" />
    <button className="px-6 py-3 bg-bystar-navy text-white rounded font-semibold hover:bg-opacity-90 transition-all" />
    #+END_SRC

    *Tables:*
    #+BEGIN_SRC jsx
    <table className="w-full border-collapse my-4">
      <tr className="bg-gray-100 border-b-2 border-gray-300">
        <td className="px-3 py-3">Content</td>
      </tr>
    </table>
    #+END_SRC

    *Code Blocks:*
    #+BEGIN_SRC jsx
    <pre className="bg-gray-900 text-gray-300 p-4 rounded overflow-auto text-xs">
      {code}
    </pre>
    #+END_SRC

    *Responsive Grids:*
    #+BEGIN_SRC jsx
    <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
      {items.map(item => <div key={item.id}>{item}</div>)}
    </div>
    #+END_SRC

    *Cards with Hover Effects:*
    #+BEGIN_SRC jsx
    <div className="p-6 border border-gray-300 rounded-lg bg-gray-50 transition-all cursor-pointer hover:shadow-lg hover:-translate-y-1">
      {content}
    </div>
    #+END_SRC

*** Responsive Breakpoints

    - *Mobile*: < 768px (hamburger menu, single column layouts)
    - *Tablet/Desktop*: =md:= prefix (â‰¥ 768px, two-column layouts)
    - *Large Desktop*: =lg:= prefix (â‰¥ 1024px, three-column layouts)

    Example:
    #+BEGIN_SRC jsx
    <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6" />
    #+END_SRC

** Key Learning: Tailwind v3 Standard Configuration

   This starter uses Tailwind CSS v3 with the standard PostCSS plugin setup:

   - *@tailwind directives*: Standard =@tailwind base=, =@tailwind components=, =@tailwind utilities= in CSS
   - *Utility-first approach*: All styling done via utility classes in JSX className attributes
   - *Mobile-first design*: Base classes apply to mobile, use =md:= and =lg:= prefixes for responsive design
   - *Benefits*: Predictable, well-documented integration with Gatsby 5

   *Example - Creating Button Variants:*
   #+BEGIN_SRC jsx
   const buttonClasses = "px-6 py-3 rounded font-semibold transition-all"
   const primaryButton = buttonClasses + " bg-bystar-navy text-white hover:bg-opacity-90"
   const secondaryButton = buttonClasses + " bg-white text-bystar-navy border-2 border-bystar-navy hover:bg-gray-50"

   export function PrimaryButton({ children, ...props }) {
     return <button className={primaryButton} {...props}>{children}</button>
   }
   #+END_SRC

** Production Build Optimization

   When you run =npm run build=:

   1. *CSS Purging*: Tailwind removes unused utilities (saves ~95% of CSS size)
   2. *Minification*: CSS is compressed for faster delivery
   3. *Tree-shaking*: Unused code removed from JavaScript bundles
   4. *Result*: Highly optimized production assets

   Current production build includes all necessary Tailwind utilities for the site (verified working).

* ğŸ“¦ Dependencies

** Core Framework
   - *gatsby* (5.14.6): React-based static site generator
   - *react* (18.2.0): UI library
   - *@reach/router*: Routing with location hooks

** Styling (Tailwind CSS v3)
   - *tailwindcss* (3.4.17): Utility-first CSS framework with standard PostCSS plugin
   - *postcss* (8.5.6): CSS transformation and optimization tool
   - *autoprefixer* (10.4.23): Automatically adds vendor prefixes for cross-browser compatibility
   - *gatsby-plugin-postcss* (6.15.0): Gatsby plugin for PostCSS processing in build pipeline

** Search & Discovery
   - *lunr* (2.3.9): Client-side full-text search indexing library

** Image Processing
   - *gatsby-plugin-image*: Optimized image component and plugin
   - *gatsby-plugin-sharp*: Image processing library for Gatsby

* ğŸ” Search Implementation

  The starter includes client-side search powered by Lunr.js:

  - *Automatic Indexing*: Pages indexed from =menuData.js= hierarchy
  - *Fast Queries*: Blazing fast full-text search on client-side
  - *Privacy*: No data sent to external servers
  - *Extensible*: Easy to add custom fields to search index

  See =src/utils/searchIndex.js= for search utilities.

* â™¿ Accessibility

  This starter includes comprehensive accessibility features:

  - *Accessibility-Focused*: Follows web accessibility best practices
  - *Semantic HTML*: Proper heading hierarchy, landmark regions, semantic elements
  - *Keyboard Navigation*: All interactive components keyboard accessible
  - *Screen Reader Support*: Proper ARIA labels and roles
  - *Color Contrast*: 4.5:1+ contrast ratios for text
  - *Text Sizing*: Readable line-heights (1.6) and comfortable spacing

  See ~/explore/accessibility~ page for detailed accessibility documentation.

* ğŸš€ Deployment

** Deploy to GitHub Pages

   See [[https://www.gatsbyjs.com/docs/how-to/previews-deploys-hosting/deploying-to-github-pages/][Gatsby deployment docs]].

** Deploy to Netlify or Vercel

   See [[https://www.gatsbyjs.com/docs/how-to/previews-deploys-hosting/][Gatsby deployment docs]] for comprehensive deployment options.

* ğŸ¤ Contributing

  This starter is designed to be extended. Consider contributing:
  - Additional accessibility features
  - Performance optimizations
  - Translation/i18n support
  - Dark mode theme
  - Advanced search features (filtering, faceting)
  - Mobile UX improvements

* ğŸ“– Learning Resources

  - [[https://www.gatsbyjs.com/docs/][Gatsby Documentation]]
  - [[https://react.dev/][React Documentation]]
  - [[https://tailwindcss.com/docs][Tailwind CSS Documentation]]
  - [[https://lunrjs.com/][Lunr.js Documentation]]
  - [[https://www.w3.org/WAI/WCAG21/quickref/][WCAG 2.1 Guidelines]]

* ğŸ“„ License

  This starter is licensed under the Affero General Public License v3.0 (AGPL-3.0), reflecting its alignment with the Libre-Halaal ByStar Digital Ecosystem principles of transparency, freedom, and community.

  See LICENSE file for details.

* ğŸ™‹ Support

  For questions, issues, or suggestions:
  - Check the [[/explore/help][Help page]] for FAQs
  - Review the [[/explore/accessibility][Accessibility page]] for accessibility questions
  - Visit [[/about][About]] to learn more about this project
  - Use the [[/contact][Contact form]] to reach out

  ---

  *Built for ByStar and the Libre-Halaal Digital Ecosystem*

  Privacy. Autonomy. Transparency. All built-in.
